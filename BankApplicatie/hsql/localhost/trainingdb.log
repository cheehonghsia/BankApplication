/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
alter table Account drop constraint FK_h8969i4obc7emxaw4bpt5oatv
alter table Account_AccountEntry drop constraint FK_f06qtnup08lw20w0lgf6hw39g
alter table Account_AccountEntry drop constraint FK_k5skx1fu6dgwg6lnlor94komx
drop table Account if exists
drop table AccountEntry if exists
drop table Account_AccountEntry if exists
drop table Customer if exists
create table Account (id bigint generated by default as identity (start with 1), accountnumber bigint not null, customer_id bigint, primary key (id))
create table AccountEntry (id bigint generated by default as identity (start with 1), amount double not null, date timestamp, description varchar(255), fromAccountNumber varchar(255), fromPersonName varchar(255), primary key (id))
create table Account_AccountEntry (Account_id bigint not null, entryList_id bigint not null)
create table Customer (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
alter table Account_AccountEntry add constraint UK_f06qtnup08lw20w0lgf6hw39g  unique (entryList_id)
alter table Account add constraint FK_h8969i4obc7emxaw4bpt5oatv foreign key (customer_id) references Customer
alter table Account_AccountEntry add constraint FK_f06qtnup08lw20w0lgf6hw39g foreign key (entryList_id) references AccountEntry
alter table Account_AccountEntry add constraint FK_k5skx1fu6dgwg6lnlor94komx foreign key (Account_id) references Account
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
INSERT INTO CUSTOMER VALUES(1,'Frank Brown')
INSERT INTO ACCOUNT VALUES(1,1263862,1)
COMMIT
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
INSERT INTO CUSTOMER VALUES(2,'John Doe')
INSERT INTO ACCOUNT VALUES(2,4253892,2)
COMMIT
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
INSERT INTO ACCOUNTENTRY VALUES(1,240.0E0,'2014-11-09 18:38:26.196000','deposit','','')
INSERT INTO ACCOUNT_ACCOUNTENTRY VALUES(1,1)
COMMIT
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
INSERT INTO ACCOUNTENTRY VALUES(2,529.0E0,'2014-11-09 18:38:26.211000','deposit','','')
DELETE FROM ACCOUNT_ACCOUNTENTRY WHERE ACCOUNT_ID=1 AND ENTRYLIST_ID=1
INSERT INTO ACCOUNT_ACCOUNTENTRY VALUES(1,1)
INSERT INTO ACCOUNT_ACCOUNTENTRY VALUES(1,2)
COMMIT
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
INSERT INTO ACCOUNTENTRY VALUES(3,-361.1E0,'2014-11-09 18:38:26.227000','withdraw','','')
DELETE FROM ACCOUNT_ACCOUNTENTRY WHERE ACCOUNT_ID=1 AND ENTRYLIST_ID=1
DELETE FROM ACCOUNT_ACCOUNTENTRY WHERE ACCOUNT_ID=1 AND ENTRYLIST_ID=2
INSERT INTO ACCOUNT_ACCOUNTENTRY VALUES(1,1)
INSERT INTO ACCOUNT_ACCOUNTENTRY VALUES(1,2)
INSERT INTO ACCOUNT_ACCOUNTENTRY VALUES(1,3)
COMMIT
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
INSERT INTO ACCOUNTENTRY VALUES(4,12450.0E0,'2014-11-09 18:38:26.227000','deposit','','')
INSERT INTO ACCOUNT_ACCOUNTENTRY VALUES(2,4)
COMMIT
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
INSERT INTO ACCOUNTENTRY VALUES(5,314.0E0,'2014-11-09 18:38:26.243000','deposit','','')
DELETE FROM ACCOUNT_ACCOUNTENTRY WHERE ACCOUNT_ID=2 AND ENTRYLIST_ID=4
INSERT INTO ACCOUNT_ACCOUNTENTRY VALUES(2,4)
INSERT INTO ACCOUNT_ACCOUNTENTRY VALUES(2,5)
COMMIT
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
INSERT INTO ACCOUNTENTRY VALUES(6,-100.0E0,'2014-11-09 18:38:26.258000','payment of invoice 10232','1263862','Frank Brown')
INSERT INTO ACCOUNTENTRY VALUES(7,100.0E0,'2014-11-09 18:38:26.258000','payment of invoice 10232','1263862','Frank Brown')
DELETE FROM ACCOUNT_ACCOUNTENTRY WHERE ACCOUNT_ID=2 AND ENTRYLIST_ID=4
DELETE FROM ACCOUNT_ACCOUNTENTRY WHERE ACCOUNT_ID=2 AND ENTRYLIST_ID=5
INSERT INTO ACCOUNT_ACCOUNTENTRY VALUES(2,4)
INSERT INTO ACCOUNT_ACCOUNTENTRY VALUES(2,5)
INSERT INTO ACCOUNT_ACCOUNTENTRY VALUES(2,6)
DELETE FROM ACCOUNT_ACCOUNTENTRY WHERE ACCOUNT_ID=1 AND ENTRYLIST_ID=1
DELETE FROM ACCOUNT_ACCOUNTENTRY WHERE ACCOUNT_ID=1 AND ENTRYLIST_ID=2
DELETE FROM ACCOUNT_ACCOUNTENTRY WHERE ACCOUNT_ID=1 AND ENTRYLIST_ID=3
INSERT INTO ACCOUNT_ACCOUNTENTRY VALUES(1,1)
INSERT INTO ACCOUNT_ACCOUNTENTRY VALUES(1,2)
INSERT INTO ACCOUNT_ACCOUNTENTRY VALUES(1,3)
INSERT INTO ACCOUNT_ACCOUNTENTRY VALUES(1,7)
COMMIT
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
DISCONNECT
